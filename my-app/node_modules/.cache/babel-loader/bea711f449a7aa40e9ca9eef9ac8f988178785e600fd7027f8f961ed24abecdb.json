{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e039571\\\\Desktop\\\\CaseStudy4\\\\Latest\\\\CustomerTicketingService\\\\CustomerTicketingService - Copy\\\\my-app\\\\src\\\\UserContext.jsx\",\n  _s = $RefreshSig$();\nimport api from './api';\nimport { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({});\nexport function UserContextProvider({\n  children\n}) {\n  _s();\n  const [user, setUser] = useState(null);\n  const [ready, setReady] = useState(false);\n  const [error, setError] = useState(null); // State for handling errors\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/users/me');\n        setUser(data);\n        console.log(user);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        // Handle errors, e.g., redirect to login or show a message\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'An error occurred');\n      } finally {\n        setReady(true);\n      }\n    };\n    fetchUser();\n  }, []); // Dependency array is correct to ensure it runs only on mount\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      setUser,\n      ready,\n      error\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(UserContextProvider, \"UMmhSsQlbxWgTxP5Kf7z6C4gPyo=\");\n_c = UserContextProvider;\nvar _c;\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["api","createContext","useState","useEffect","jsxDEV","_jsxDEV","UserContext","UserContextProvider","children","_s","user","setUser","ready","setReady","error","setError","fetchUser","data","get","console","log","err","_err$response","_err$response$data","response","msg","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/e039571/Desktop/CaseStudy4/Latest/CustomerTicketingService/CustomerTicketingService - Copy/my-app/src/UserContext.jsx"],"sourcesContent":["import api from './api';\r\nimport { createContext, useState, useEffect } from 'react';\r\n\r\nexport const UserContext = createContext({});\r\n\r\nexport function UserContextProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n  const [ready, setReady] = useState(false);\r\n  const [error, setError] = useState(null); // State for handling errors\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        const { data } = await api.get('/users/me');\r\n        setUser(data);\r\n        console.log(user)\r\n        \r\n      } catch (err) {\r\n        // Handle errors, e.g., redirect to login or show a message\r\n        setError(err.response?.data?.msg || 'An error occurred');\r\n      } finally {\r\n        setReady(true);\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, []); // Dependency array is correct to ensure it runs only on mount\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, setUser, ready, error }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,OAAO;AACvB,SAASC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC,CAAC,CAAC;AAE5C,OAAO,SAASM,mBAAmBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAChD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE1CC,SAAS,CAAC,MAAM;IACd,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMjB,GAAG,CAACkB,GAAG,CAAC,WAAW,CAAC;QAC3CP,OAAO,CAACM,IAAI,CAAC;QACbE,OAAO,CAACC,GAAG,CAACV,IAAI,CAAC;MAEnB,CAAC,CAAC,OAAOW,GAAG,EAAE;QAAA,IAAAC,aAAA,EAAAC,kBAAA;QACZ;QACAR,QAAQ,CAAC,EAAAO,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcL,IAAI,cAAAM,kBAAA,uBAAlBA,kBAAA,CAAoBE,GAAG,KAAI,mBAAmB,CAAC;MAC1D,CAAC,SAAS;QACRZ,QAAQ,CAAC,IAAI,CAAC;MAChB;IACF,CAAC;IAEDG,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,oBACEX,OAAA,CAACC,WAAW,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,IAAI;MAAEC,OAAO;MAAEC,KAAK;MAAEE;IAAM,CAAE;IAAAN,QAAA,EAC1DA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B;AAACtB,EAAA,CA5BeF,mBAAmB;AAAAyB,EAAA,GAAnBzB,mBAAmB;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}